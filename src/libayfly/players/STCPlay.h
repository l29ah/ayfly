//Sound tracker player
unsigned char STCPlay_data[] = {
  0x21,0x3c,0xc4,0xc3,0x09,0xc0,0xc3,0x44,0xc1,0xf3,0x7e,0x32,0x78,0xc0,0x22,0xbb,
  0xc0,0x23,0xcd,0xb5,0xc0,0x1a,0x13,0x3c,0x32,0x7a,0xc0,0xed,0x53,0x70,0xc0,0xcd,
  0xb5,0xc0,0xed,0x53,0x72,0xc0,0xd5,0xcd,0xb5,0xc0,0xed,0x53,0x74,0xc0,0x21,0x1b,
  0x00,0xcd,0xba,0xc0,0xeb,0x22,0x76,0xc0,0x21,0x81,0xc0,0x22,0x7b,0xc0,0x21,0x82,
  0xc0,0x11,0x83,0xc0,0x01,0x2c,0x00,0x70,0xed,0xb0,0xe1,0x01,0x21,0x00,0xaf,0xcd,
  0xaf,0xc0,0x3d,0x32,0x8b,0xc0,0x32,0x95,0xc0,0x32,0x9f,0xc0,0x3e,0x01,0x32,0x79,
  0xc0,0x23,0x22,0x89,0xc0,0x22,0x93,0xc0,0x22,0x9d,0xc0,0xcd,0x1f,0xc4,0xfb,0xc9,
  0x77,0xf1,0x8f,0xf1,0x13,0xf2,0x5e,0xee,0x06,0x03,0x0c,0x36,0xf3,0x08,0xf6,0x49,
  0xf6,0xff,0x00,0x00,0x04,0x00,0x00,0x5f,0xee,0x90,0xf1,0x1c,0x02,0x01,0x0a,0x09,
  0x00,0x4e,0xf0,0x90,0xf1,0x16,0x00,0x01,0x04,0x34,0x01,0xb1,0xf0,0xf3,0xf1,0x1c,
  0x07,0xf8,0x0e,0xe0,0x08,0xba,0x00,0x00,0x31,0x06,0x18,0x0e,0x8e,0x00,0x00,0xbe,
  0xc8,0x09,0xc3,0xaf,0xc0,0x5e,0x23,0x56,0x23,0xeb,0x01,0x43,0xee,0x09,0xeb,0xc9,
  0x16,0x00,0x5f,0x87,0x83,0x5f,0xdd,0x19,0xdd,0x7e,0x01,0xcb,0x7f,0x0e,0x10,0xc2,
  0xd3,0xc0,0x4a,0xcb,0x77,0x06,0x02,0xc2,0xdb,0xc0,0x42,0xe6,0x1f,0x67,0xdd,0x5e,
  0x02,0xdd,0x7e,0x00,0xf5,0xe6,0xf0,0x0f,0x0f,0x0f,0x0f,0x57,0xf1,0xe6,0x0f,0x6f,
  0xdd,0xcb,0x01,0x6e,0xc8,0xcb,0xe2,0xc9,0x3a,0xa0,0xc0,0x4f,0x21,0x7a,0xc0,0xbe,
  0xda,0x05,0xc1,0xaf,0x4f,0x3c,0x32,0xa0,0xc0,0x69,0x26,0x00,0x29,0xed,0x5b,0x70,
  0xc0,0x19,0x4e,0x23,0x7e,0x32,0x44,0xc3,0x79,0x2a,0x74,0xc0,0x01,0x07,0x00,0xcd,
  0xaf,0xc0,0x23,0xcd,0xb5,0xc0,0xed,0x53,0x7b,0xc0,0xcd,0xb5,0xc0,0xed,0x53,0x7d,
  0xc0,0xcd,0xb5,0xc0,0xed,0x53,0x7f,0xc0,0xc9,0xdd,0x35,0x02,0xf0,0xdd,0x7e,0xff,
  0xdd,0x77,0x02,0xc9,0x3a,0x79,0xc0,0x3d,0x32,0x79,0xc0,0xc2,0x8e,0xc2,0x3a,0x78,
  0xc0,0x32,0x79,0xc0,0xdd,0x21,0x84,0xc0,0xcd,0x39,0xc1,0xf2,0x6f,0xc1,0x2a,0x7b,
  0xc0,0x7e,0x3c,0xcc,0xf8,0xc0,0x2a,0x7b,0xc0,0xcd,0x98,0xc1,0x22,0x7b,0xc0,0xdd,
  0x21,0x8e,0xc0,0xcd,0x39,0xc1,0xf2,0x82,0xc1,0x2a,0x7d,0xc0,0xcd,0x98,0xc1,0x22,
  0x7d,0xc0,0xdd,0x21,0x98,0xc0,0xcd,0x39,0xc1,0xf2,0x8e,0xc2,0x2a,0x7f,0xc0,0xcd,
  0x98,0xc1,0x22,0x7f,0xc0,0xc3,0x8e,0xc2,0x7e,0xfe,0x60,0xda,0xc6,0xc1,0xfe,0x70,
  0xda,0xd3,0xc1,0xfe,0x80,0xda,0xf4,0xc1,0xca,0xeb,0xc1,0xfe,0x81,0xca,0xd1,0xc1,
  0xfe,0x82,0xca,0xf1,0xc1,0xfe,0x8f,0xda,0x10,0xc2,0xd6,0xa1,0xdd,0x77,0x02,0xdd,
  0x77,0xff,0x23,0xc3,0x98,0xc1,0xdd,0x77,0x01,0xdd,0x36,0x00,0x00,0xdd,0x36,0x07,
  0x20,0x23,0xc9,0xd6,0x60,0xe5,0x01,0x63,0x00,0x2a,0x76,0xc0,0xcd,0xaf,0xc0,0x23,
  0xdd,0x75,0x03,0xdd,0x74,0x04,0xe1,0x23,0xc3,0x98,0xc1,0x23,0xdd,0x36,0x07,0xff,
  0xc9,0xaf,0x18,0x02,0xd6,0x70,0xe5,0x01,0x21,0x00,0x2a,0x72,0xc0,0xcd,0xaf,0xc0,
  0x23,0xdd,0x75,0x05,0xdd,0x74,0x06,0xdd,0x36,0xfe,0x00,0xe1,0x23,0xc3,0x98,0xc1,
  0xd6,0x80,0x32,0xae,0xc0,0x23,0x7e,0x23,0x32,0xac,0xc0,0xdd,0x36,0xfe,0x01,0xe5,
  0xaf,0x01,0x21,0x00,0x2a,0x72,0xc0,0xcd,0xaf,0xc0,0x23,0xdd,0x75,0x05,0xdd,0x74,
  0x06,0xe1,0xc3,0x98,0xc1,0xdd,0x7e,0x07,0x3c,0xc8,0x3d,0x3d,0xdd,0x77,0x07,0xf5,
  0xdd,0x7e,0x00,0x4f,0x3c,0xe6,0x1f,0xdd,0x77,0x00,0xf1,0xc0,0xdd,0x5e,0x03,0xdd,
  0x56,0x04,0x21,0x60,0x00,0x19,0x7e,0x3d,0xfa,0xec,0xc1,0x4f,0x3c,0xe6,0x1f,0xdd,
  0x77,0x00,0x23,0x7e,0x3c,0xdd,0x77,0x07,0xc9,0x79,0xb7,0xc0,0x7c,0x32,0xa7,0xc0,
  0xc9,0xdd,0x7e,0x07,0x3c,0xc8,0xdd,0x7e,0xfe,0xb7,0xc8,0xfe,0x02,0xca,0x87,0xc2,
  0xdd,0x36,0xfe,0x02,0xc3,0x8b,0xc2,0xaf,0x32,0xae,0xc0,0xcb,0xe6,0xc9,0xdd,0x21,
  0x84,0xc0,0xcd,0x35,0xc2,0x79,0x32,0x3c,0xc3,0xdd,0x2a,0x87,0xc0,0xcd,0xc0,0xc0,
  0x79,0xb0,0x0f,0x32,0xa8,0xc0,0xdd,0x21,0x84,0xc0,0xdd,0x7e,0x07,0x3c,0xca,0xba,
  0xc2,0xcd,0x69,0xc2,0xcd,0x32,0xc3,0x22,0xa1,0xc0,0x21,0xa9,0xc0,0x77,0xcd,0x71,
  0xc2,0xdd,0x21,0x8e,0xc0,0xcd,0x35,0xc2,0xdd,0x7e,0x07,0x3c,0xca,0xef,0xc2,0x79,
  0x32,0x3c,0xc3,0xdd,0x2a,0x91,0xc0,0xcd,0xc0,0xc0,0x3a,0xa8,0xc0,0xb1,0xb0,0x32,
  0xa8,0xc0,0xcd,0x69,0xc2,0xdd,0x21,0x8e,0xc0,0xcd,0x32,0xc3,0x22,0xa3,0xc0,0x21,
  0xaa,0xc0,0x77,0xcd,0x71,0xc2,0xdd,0x21,0x98,0xc0,0xcd,0x35,0xc2,0xdd,0x7e,0x07,
  0x3c,0xca,0x28,0xc3,0x79,0x32,0x3c,0xc3,0xdd,0x2a,0x9b,0xc0,0xcd,0xc0,0xc0,0x3a,
  0xa8,0xc0,0xcb,0x01,0xcb,0x00,0xb0,0xb1,0x32,0xa8,0xc0,0xcd,0x69,0xc2,0xdd,0x21,
  0x98,0xc0,0xcd,0x32,0xc3,0x22,0xa5,0xc0,0x21,0xab,0xc0,0x77,0xcd,0x71,0xc2,0xc3,
  0x1f,0xc4,0x7d,0xf5,0xd5,0xdd,0x6e,0x05,0xdd,0x66,0x06,0x11,0x03,0x00,0x19,0xdd,
  0x7e,0x01,0x86,0xc6,0x00,0x87,0x5f,0x16,0x00,0x21,0x5f,0xc3,0x19,0x5e,0x23,0x56,
  0xeb,0xd1,0xf1,0xcb,0x62,0x28,0x04,0xcb,0xa2,0x19,0xc9,0xa7,0xed,0x52,0xc9,0xf8,
  0x0e,0x10,0x0e,0x60,0x0d,0x80,0x0c,0xd8,0x0b,0x28,0x0b,0x88,0x0a,0xf0,0x09,0x60,
  0x09,0xe0,0x08,0x58,0x08,0xe0,0x07,0x7c,0x07,0x08,0x07,0xb0,0x06,0x40,0x06,0xec,
  0x05,0x94,0x05,0x44,0x05,0xf8,0x04,0xb0,0x04,0x70,0x04,0x2c,0x04,0xf0,0x03,0xbe,
  0x03,0x84,0x03,0x58,0x03,0x20,0x03,0xf6,0x02,0xca,0x02,0xa2,0x02,0x7c,0x02,0x58,
  0x02,0x38,0x02,0x16,0x02,0xf8,0x01,0xdf,0x01,0xc2,0x01,0xac,0x01,0x90,0x01,0x7b,
  0x01,0x65,0x01,0x51,0x01,0x3e,0x01,0x2c,0x01,0x1c,0x01,0x0b,0x01,0xfc,0x00,0xef,
  0x00,0xe1,0x00,0xd6,0x00,0xc8,0x00,0xbd,0x00,0xb2,0x00,0xa8,0x00,0x9f,0x00,0x96,
  0x00,0x8e,0x00,0x85,0x00,0x7e,0x00,0x77,0x00,0x70,0x00,0x6b,0x00,0x64,0x00,0x5e,
  0x00,0x59,0x00,0x54,0x00,0x4f,0x00,0x4b,0x00,0x47,0x00,0x42,0x00,0x3f,0x00,0x3b,
  0x00,0x38,0x00,0x35,0x00,0x32,0x00,0x2f,0x00,0x2c,0x00,0x2a,0x00,0x27,0x00,0x25,
  0x00,0x23,0x00,0x21,0x00,0x1f,0x00,0x1d,0x00,0x1c,0x00,0x1a,0x00,0x19,0x00,0x17,
  0x00,0x16,0x00,0x15,0x00,0x13,0x00,0x12,0x00,0x11,0x00,0x10,0x00,0x0f,0x00,0x21,
  0xae,0xc0,0xaf,0xb6,0x3e,0x0d,0x20,0x05,0xd6,0x03,0x2b,0x2b,0x2b,0x0e,0xfd,0x06,
  0xff,0xed,0x79,0x06,0xbf,0xed,0xab,0x3d,0xf2,0x2f,0xc4,0xc9
};

void STC_GetInfo(AYSongInfo &info)
{
    unsigned char *module = info.file_data;
    unsigned long tm = 0;
    long j, j1, j2, i;
    unsigned char stDelay = module[0];
    unsigned short stPosPt = *(unsigned short *)&module[1];
    unsigned short stPatPt = *(unsigned short *)&module[5];
    unsigned char a;

    j = -1;
    do
    {
        j++;
        j2 = stPosPt + j * 2 + 1;
        j2 = module[j2];
        i = -1;
        do
        {
            i++;
            j1 = stPatPt + 7 * i;
        }
        while(module[j1] != j2);
        j1 = *(unsigned short *)&module[j1 + 1];
        a = 1;
        while(*(unsigned char *)&module[j1] != 255)
        {
            unsigned char val = module[j1];
            if((val <= 0x5f) || (val == 0x80) || (val == 0x81))
            {
                tm += a;
            }
            else if(val >= 0xa1 && val <= 0xe0)
            {
                a = val - 0xa0;
            }
            else if(val >= 0x83 && val <= 0x8e)
            {
                j1++;
            }
            j1++;
        }
    }
    while(j != module[stPosPt]);
    tm *= stDelay;
    info.Length = tm;
}
